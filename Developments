import aiogram
from aiogram import Bot, Dispatcher, executor, types
from config import TOKEN_API  #–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Ç–µ–ª–µ–≥—Ä–∞–º API –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª config.py
import string
import random
from aiogram.types import ReplyKeyboardMarkup, KeyboardButton, ReplyKeyboardRemove #–ò–º–ø—Ä—Ç–∏—Ä—É–µ–º –∫–ª–∞—Å—Å—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
from aiogram.types import InlineKeyboardButton, InlineKeyboardMarkup

async def on_startup(_): #—Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞—é—â–∞—è –ø—Ä–∏–≤–µ—Å—Ç–≤–∏–µ –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –µ—Å–ª–∏ –±–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
    print('–ë–æ—Ç –±—ã–ª —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω')

# –±–æ—Ç —ç—Ç–æ —Å–µ—Ä–≤–µ—Ä –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å API Telegram

HELP_COMMAND = """
<b>/help</b> - <em>—Å–ø–∏—Å–æ–∫ –∫–æ–º–º–∞–Ω–¥</em>
<b>/give</b> - <em>–æ—Ç–ø—Ä–∞–≤–∏—Ç—å gif–∫—É</em>
<b>/start</b> - <em>–≤—ã–∑–≤–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É</em>
<b>–û—Ç–ø—Ä–∞–≤—å –±–æ—Ç—É —Å—Ç–∏–∫–µ—Ä</b> - <em>–ø–æ–ª—É—á–∏—à—å id —Å—Ç–∏–∫–µ—Ä–∞</em>
<b>/image</b> - <em>–ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É</em>
<b>/location</b> - <em>–ü–æ–ª—É—á–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã </em>
<b>/creator</b> - <em>Creator</em>
"""# –°–æ–∑–¥–∞–ª –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥ —á—Ç–æ –±—ã –Ω–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å –∏—Ö –≤ —Ñ—É–Ω–∫—Ü–∏—é


bot = Bot(TOKEN_API)
dp = Dispatcher(bot)


#–ü–∏–ª–∏–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
kb = ReplyKeyboardMarkup(resize_keyboard=True,)#–î–ª—è —Ç–æ–≥–æ —á—Ç–æ –±—ã –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –º–µ–Ω—è–ª–∞ —Å–≤–æ–π —Ä–∞–∑–º–µ—Ä –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—é)
b1 = KeyboardButton('/help')
b2 = KeyboardButton('/give')
b3 = KeyboardButton('/image')
b4 = KeyboardButton('/location')
kb.add(b1, b2, b3, b4,)


#–ò–Ω–ª–∞–π–Ω –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞
ikb = InlineKeyboardMarkup(row_width=2)
ib1 = InlineKeyboardButton(text='VK –°–æ–∑–¥–∞—Ç–µ–ª—è',
                          url="https://vk.com/id306646249")

ib2 = InlineKeyboardButton(text='Github –°–æ–∑–¥–∞—Ç–µ–ª—è',
                           url="https://github.com/portaimer")
ikb.add(ib1,ib2)

@dp.message_handler(commands=['creator'])
async def creator(message: types.Message):
    await bot.send_message(chat_id=message.from_user.id,
                           text='–ì–¥–µ –Ω–∞–π—Ç–∏ –º–µ–Ω—è –≤ —Å–µ—Ç–∏',
                           parse_mode="HTML",
                           reply_markup=ikb)
    await message.delete()


#@dp.message_handler()#–≠—Ö–æ –±–æ—Ç
#async def echo(message: types.Message):
    #await bot.send_message(chat_id=message.from_user.id, text="Hello")#–ë–æ—Ç –ø—Ä–∏—Å—ã–ª–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –ª–∏—á–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

#@dp.message_handler(commands=['help'])
#async def help_command(message: types.Message):
    #await message.reply(text=HELP_COMMAND, parse_mode="HTML")
    #await message.delete()


@dp.message_handler(commands=['start']) #–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–∞ –∫–æ–º–∞–Ω–¥—É /start
async def help_command(message: types.Message):
    await bot.send_message(chat_id=message.from_user.id,
                           text='–ü—Ä–∏–≤–µ—Ç –ü—Ä–∏—è—Ç–Ω–æ –ü–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è –Ø FreePizzzza Bot, —Å–µ–π—á–∞—Å —É –≤–∞—Å –ø–æ—è–≤–∏—Ç—å—Å—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –æ–Ω–∞ –ø–æ–¥—Å–∫–∞–∂–µ—Ç –∫–∞–∫ —Å–æ –º–Ω–æ–π —Ä–∞–±–æ—Ç–∞—Ç—å ',
                           parse_mode="HTML",)
    await message.delete()


@dp.message_handler(commands=['help'])#–ü–æ –∫–æ–º–∞–Ω–¥–µ /help  –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ HELP_COMMAND –≤ –ª–∏—á–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
async def help_command(message: types.Message):
    await bot.send_message(chat_id=message.from_user.id,
                           text=HELP_COMMAND,
                           parse_mode="HTML",)
    await message.delete()

@dp.message_handler(content_types=['sticker'])#–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ –∞–π–¥–∏ —Å—Ç–∏–∫–µ—Ä–∞ –ø–æ –≤—Ö–æ–¥—è—â–µ–º—É —Å—Ç–∏–∫–µ—Ä—É
async def send_sticker_id(message: types.Message):
    await message.answer(message.sticker.file_id)
    await message.delete()


@dp.message_handler(commands=['image'])#–ü–æ–ª—É—á–∞–µ–º —Å–ª—É—á–π–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
async def cmd_image(message: types.Message):
    await bot.send_photo(message.chat.id, types.InputFile.from_url('https://bing.ioliu.cn/v1/rand'))
    await message.delete()


@dp.message_handler(commands=['location'])#–ë–æ—Ç –ø—Ä–∏—Å—ã–ª–∞–µ—Ç –ª–æ–∫–∞—Ü–∏—é –≤ –ª–∏—á–∫—É –∏–∑ —á–∞—Ç–∞
async def send_point(message: types.Message):
    await bot.send_location(chat_id=message.from_user.id,
                            latitude='55',
                            longitude=74)

#–û—á–µ–Ω—å —Ö–æ—Ç–µ–ª —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—ã–¥–∞—á—É —Ä–∞–Ω–¥–æ–º–Ω—ã—Ö —Å—Ç–∏–∫–µ—Ä–æ–≤ –Ω–æ –Ω–µ —Å–º–æ–≥ –Ω–∞–π—Ç–∏ —Å–ø–∏—Å–æ–∫ ID —Å—Ç–∏–∫–µ—Ä–æ–≤ —Ç–µ–ª–µ–≥—Ä–∞–º–º –º–æ–∂–µ—Ç –ø–æ–º–æ–∂–µ—Ç –∫—Ç–æ ???
#–î–∞ –±–æ—Ç —É–º–µ–µ—Ç –ø—Ä–∏—Å—ã–ª–∞—Ç—å –ø–æ —Å—Ç–∏–∫–µ—Ä—É –µ–≥–æ –∞–π–¥–∏ ... –Ω–æ –º–Ω–µ –ø—Ä–æ—Å—Ç–æ –Ω–µ –∫–æ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ ...
#–ú–æ–∂–µ—Ç –∫—Ç–æ –ø–æ–º–æ–∂–µ—Ç –µ—Å–ª–∏ –¥–µ–ª–∞—Ç—å —Å–æ–≤—Å–µ–º –Ω–µ —Ö—Ä–µ–Ω.... –ï—Å–ª–∏ —Ä–µ–∞–ª—å–Ω–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –∑–∞–ø—É—à—É –±–æ—Ç –Ω–∞ –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ .
#–ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è —Å–≤—è–∑–∏ –µ—Å—Ç—å –≤ —ç—Ç–æ–º –±–æ—Ç–µ https://t.me/FreePizzzabot
@dp.message_handler(commands=['give']) #–û—Ç–ø—Ä–∞–≤–∫–∞ —Å—Ç–∏–∫–µ—Ä–∞ –Ω–∞ –∫–æ–º–∞–Ω–¥—É give
async def start_command(message: types.Message):
    await bot.send_sticker(message.from_user.id, sticker="CAACAgIAAxkBAAEG5RVjoLxDtsexaNuvodBr4kEh-TphBwACTRYAAnJ3wEiqLAI1EPSbGSwE")
    await message.delete()# –ü—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á—Ç–æ –±—ã –Ω–µ –±—ã–ª–æ –º–Ω–æ–≥–æ —Å–ø–∞–º–∞

#@dp.message_handler() #—ç—Ö–æ –±–æ—Ç + —ç–º–æ–¥–∑–∏ —Å –∞–≤—Ç–æ —É–¥–∞–ª–µ–Ω–∏–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è
#async def send_emoji(message: types.Message):
    #await message.reply(message.text + 'üëç')
    #await message.delete()


–û–ø—Ä–æ—Å–Ω–∏–∫ —Å –∏–Ω–ª–∞–π–Ω –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π –∏ callback_query —Ñ—É–Ω–∫—Ü–∏–µ–π
@dp.message_handler(commands=['vote'])
async def vote_command(message: types.Message):
    ikb2 = InlineKeyboardMarkup(row_width=2)
    ib1 = InlineKeyboardButton(text='üëç',
                               callback_data="like")
    ib2 = InlineKeyboardButton(text='üëé',
                               callback_data="dislike")
    ikb2.add(ib1, ib2)

    await bot.send_photo(chat_id=message.from_user.id,
                         photo='https://n1s1.elle.ru/48/7b/36/487b36300c62c5f0cb905da52aa874b4/728x486_1_30b570c2f6c0da65bb56095068e05768@940x627_0xc0a839a4_18087198581488362059.jpeg',
                         caption='–ù—Ä–∞–≤–∏—Ç—å—Å—è –∫–æ—Ç–∏–∫?',
                         reply_markup=ikb2)


@dp.callback_query_handler()
async def vote_callback(callback: types.CallbackQuery):
    if callback.data == 'Like':
       await callback.answer(text='–¢–µ–±–µ –ø–æ–Ω—Ä–∞–≤–∏–ª–∞—Å—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è!')
    elif callback.data == 'dislike':
        await callback.answer(text='–¢–µ–±–µ –Ω–µ –Ω—Ä–∞–≤—è—Ç—å—Å—è –∫–æ—Ç–∏–∫–∏ ?')


if __name__ == '__main__':
    executor.start_polling(dp, on_startup=on_startup, skip_updates=True)
